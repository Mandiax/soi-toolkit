#summary One-sentence summary of this page.

= Introduction =

In order to minimize 


= Details =

The declaration should be placed in the common-xml-config-file: {{{src/main/app/${artifactId}-common.xml}}}.

{{{
   <spring:bean id="senderIdEvaluator" class="org.soitoolkit.commons.mule.cert.X509CertificateEvaluator">
	<spring:property name="propertyName" value="${SENDERID_PROPERTY}" />
   </spring:bean>
	
   <custom-transformer name="validateSenderId" class="org.soitoolkit.commons.mule.cert.ValidateSenderIdTransformer">
      <spring:property name="senderIdPropertyName" value="${SENDERID_PROPERTY}"/>
      <spring:property name="validSenderIds"  value="${VALID_SENDERIDS}"/>
   </custom-transformer>
}}}

The properties above should be placed in the property-file: {{{src/main/resources/${artifactId}-config.properties}}}.

{{{
# Certificate configuration
SENDERID_PROPERTY=CN
VALID_SENDERIDS=SOI Toolkit
}}}


The final step is to introduce the {{{validateSenderId}}} transformer to the service like: 

{{{
  <flow name="https2https-service">

     <https:inbound-endpoint
            connector-ref="soitoolkit-https-connector"
			address="${HTTPS2HTTPS_INBOUND_URL}"
			exchange-pattern="request-response"
			transformer-refs="objToStr logReqIn validateSenderId"
			responseTransformer-refs="createSoapFaultIfException logRespOut">
      </https:inbound-endpoint>

      ...
  </flow>
}}}